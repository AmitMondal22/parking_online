<div class="container-fluid">
    <div class="col-sm-12 col-md-12 col-lg-12">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">
                    <%= title %>
                </h4>
                <div class="row dateCalenderField">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="frm_dt">From Date</label>
                            <input type="date" id="frm_dt" name="frm_dt" class="form-control" required="">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="to_dt">To Date</label>
                            <input type="date" id="to_dt" name="to_dt" class="form-control" required="">
                        </div>
                    </div>
                    <div class="col-md-4 searchBtnDataWis">
                        <button type="button" class="btn waves-effect waves-light btn-rounded btn-outline-primary" id="btnSubmit">Search</button>
                    </div>
                </div>
                <!-- <div class="card-body" id="resultDiv"> -->
                    <div class="dateWiseDataTable" id="resultDiv">
                    <h4 class="card-title">
                        <center>
                            Test Title
                            <span id="searchCred"></span>
                        </center>
                    </h4>
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Receipt No.</th>
                                    <th scope="col">Date Time In</th>
                                    <th scope="col">Mechine Sl. No. In</th>
                                    <th scope="col">Vehicle Type</th>
                                    <th scope="col">Vehicle No.</th>
                                    <th scope="col">Date Time Out</th>
                                    <th scope="col">Mechine Sl. No. Out</th>
                                    <th scope="col">Paid Amount</th>
                                    <th scope="col">Operator Name</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>

                            <tfoot>
                                <tr>
                                    <td scope="col">#</th>
                                    <td scope="col">Receipt No.</th>
                                    <td scope="col">Date Time In</th>
                                    <td scope="col">Mechine Sl. No. In</th>
                                    <td scope="col">Vehicle Type</td>
                                    <td scope="col">Vehicle No.</td>
                                    <td scope="col">Date Time Out</td>
                                    <td scope="col">Total</td>
                                    <td scope="col">8000</td>
                                    <td scope="col">Operator Name</td>
                                </tr>   
                            </tfoot>
                        </table>

                        <a href="#" class="printBtnDate"><i class="fa fa-print"></i> Print</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <script src="https://raw.githubusercontent.com/phstc/jquery-dateFormat/master/dist/dateFormat.min.js"></script>
    <script>
        $('#btnSubmit').on('click', function(){
            var frm_dt = $('#frm_dt').val()
            var to_dt = $('#to_dt').val()
            
            if(frm_dt != '' && to_dt != ''){
                $.ajax({
                    method: "POST",
                    url: "/report/get_details_report",
                    data: { frm_dt, to_dt },
                    dataType: "html",
                    beforeSend: function () {
                        $(".preloader").fadeIn();
                    },
                    success: function (result) {
                        var res = JSON.parse(result);
                        console.log(res)
                        if(res.suc > 0){
                            if(res.msg.length > 0){
                                let i = 1
                                for(let dt of res.msg){
                                    $('#resultDiv table tbody').append(`
                                    <tr>
                                        <td>${i}</td>
                                        <td>${dt.receiptNo}</td>
                                        <td>${new Date(dt.date_time_in).toUTCString()}</td>
                                        <td>${dt.mc_srl_no}</td>
                                        <td>${dt.vehicleType}</td>
                                        <td>${dt.vehicle_no}</td>
                                        <td>${new Date(dt.date_time_out).toUTCString()}</td>
                                        <td>${dt.mc_srl_no_out}</td>
                                        <td>${dt.paid_amt}</td>
                                        <td>${dt.opratorName}</td>
                                    </tr>
                                    `)
                                    i++
                                }
                            }
                        }
                    },
                    complete: function () {
                        $(".preloader").fadeOut();
                    }
                })
            }
        })
    </script>